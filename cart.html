<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <script src='jquery-3.4.1.min.js'></script>
    <title>DemoSite</title>
</head>
<body>
    <!-- header -->
    <div class="wrap">
        <div class="header">
            <div class="logo">
                <a href="index.html" id="logo">
                    <img src="index_img/logo.png" alt="">
                </a>
            </div>
            <nav>
                <a href="index.html" class="home" id='home'>
                    Home
                </a>
                <a href="cart.html" class="cart" id='cart'>
                    <img src="index_img/cart.svg" alt="">
                    <div class="cart_count">0</div>
                </a>
                
            </nav>
        </div>
    </div>

    <!-- 表頭 -->
    <section class="wrap">
        <h2 class="cart-title">Shopping Cart</h2>
        <div class="menu-flex">
            <div class="menu-item">
                <div class="item-head">
                </div>
            </div>
            <div class="menu-item">
                <div class="item-head">Name</div>
            </div>
         
            <div class="menu-item">
                <div class="item-head">Price</div>
            </div>
     
            <div class="menu-item">
                <div class="item-head">Amount</div>
            </div>
     
            <div class="menu-item">
                <div class="item-head">Subtotal</div>
            </div>
        </div> 
    </section>

    <!-- 購物車內容 -->
    <section class="wrap">
        <div class="cart_container">

            <!-- <div class="cart_item">
                <div class="cart-pic">
                    <img src="index_img/beer.svg" alt="" class="cart_item_image">
                </div>
                <h3 class="cart_item_name">Beer</h3>
                <h3 class="cart_item_price">$1000</h3>
                <h3 class="cart_item_amount">1</h3>
                <h3 class="cart_item_subtotal">$2000</h3>
            </div>

            <div class="cart_item">
                <div class="cart-pic">
                    <img src="index_img/can.svg" alt="" class="cart_item_image">
                </div>
                <h3 class="cart_item_name">Garbage</h3>
                <h3 class="cart_item_price">$2000</h3>
                <h3 class="cart_item_amount">1</h3>
                <h3 class="cart_item_subtotal">$2000</h3>
            </div>

            <div class="cart_item">
                <div class="cart-pic">
                    <img src="index_img/donut.svg" alt="" class="cart_item_image">
                </div>
                <h3 class="cart_item_name">Donuts</h3>
                <h3 class="cart_item_price">$3000</h3>
                <h3 class="cart_item_amount">1</h3>
                <h3 class="cart_item_subtotal">$2000</h3>
            </div>

            <div class="cart_item">
                <div class="cart-pic">
                    <img src="index_img/donut.svg" alt="" class="cart_item_image">
                </div>
                <h3 class="cart_item_name">Donuts</h3>
                <h3 class="cart_item_price">$3000</h3>
                <h3 class="cart_item_amount">1</h3>
                <h3 class="cart_item_subtotal">$2000</h3>
            </div> -->

        </div>

        <footer class="cart_footer">
            <div class="cart_front"></div>
            <div class="cart_front"></div>
            <h3 class="cart_total">$Total</h3>
            <h3 class="cart_total_price">$0</h3>
            <div class="cart_check_out_container">
                <input type="button" value="Check Out" class="cart_check_out">
            </div>
        </footer>
    </section>
    <script>
        // 顯示畫面的容器
        const cartDOM = document.querySelector('.cart_container');
        // 查詢顯示結帳處
        const tatalBtn = document.querySelector('.cart_total_price');

        // localstorage 被點擊的商品
        const cartContents = JSON.parse(localStorage.getItem('mainItems'));
        console.log(cartContents);
        
        // 購物車數量
        const cartCount = document.querySelector('.cart_count');
        cartCount.textContent = cartContents.length;
        
        totalPrice = 0;
        if(cartContents !== null){
            cartContents.forEach(cartContent => {
                // 去掉錢符號取出價錢
                const subCartPrice = cartContent.price.substring(1);
                // 把字串數字化並加回總金額
                totalPrice += parseInt(subCartPrice);
                // 替換總價格
                tatalBtn.textContent = `$${totalPrice}`;
                // 插入商品內容
                cartDOM.insertAdjacentHTML('beforeend',
                ` <div class="cart_item">
                    <div class="cart-pic">
                    <img src="${cartContent.image}" alt="" class="cart_item_image">
                </div>
                <h3 class="cart_item_name">${cartContent.name}</h3>
                <h3 class="cart_item_price">${cartContent.price}</h3>
                <h3 class="cart_item_amount">1</h3>
                <h3 class="cart_item_subtotal">${cartContent.price}</h3>
                </div>`
                );
            });
        }
    
    
    
    
    </script>
</body>
</html>




